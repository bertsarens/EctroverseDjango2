{% extends "base.html" %}

{% block content %}

{% load mathfilters %}
{% load tags %}
<div id="mapdiv" data-pan-on-drag="" data-zoom-on-wheel="min-scale: 0.3; max-scale: 1000;" style="width: calc(95% - 10px); height: calc(95% - 10px); background: black; margin: auto;">
  <svg id="svgid" version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2400 2400" height="{{ maxX|mul:12|add:24 }}"
    width="{{ maxY|mul:12|add:24}}">
    {% for key in mapgen %}
    {% with o=mapgen|getvalue:key %}
    <a xlink:href="system{{ o.id }}">
      {% if o.imgarti != "" %}
      <image href="{{o.imgarti}}" height="12" width="12" x="{{ o.x|mul:12 }}" y="{{ o.y|mul:12 }}">
        <title>{{ o.x }}, {{ o.y }}</title>
      </image>
      {% else %}
      <g xmlns="http://www.w3.org/2000/svg" fill="{{ o.color }}"
        transform="translate({{ o.x|mul:12 }},{{ o.y|mul:12 }}) scale(0.050000,0.0500000)" stroke="none">
        {% if o.type == 5 %}
        <path
          d="M39 232 c-21 -2 -28 -10 -31 -33 -3 -16 -1 -32 4 -35 4 -3 8 8 8 25 0 26 4 30 33 33 17 2 28 5 22 8 -5 3 -22 4 -36 2z" />
        <path
          d="M164 228 c-3 -4 9 -8 25 -8 28 0 31 -3 31 -32 0 -20 4 -28 9 -23 5 6 7 22 4 37 -4 20 -12 27 -34 30 -17 3 -32 1 -35 -4z" />
        <path
          d="M121 171 c-1 -23 -2 -23 -26 -7 -26 17 -34 9 -13 -12 10 -10 10 -15 -1 -21 -11 -7 -11 -9 0 -13 10 -3 7 -12 -10 -33 -26 -33 -11 -48 20 -19 14 12 19 14 19 4 0 -9 5 -7 14 6 12 15 17 17 27 7 7 -7 17 -13 22 -13 6 0 6 5 0 13 -15 19 -13 54 3 68 8 6 14 18 14 26 0 11 -7 10 -29 -6 l-30 -21 -4 22 c-4 23 -4 23 -6 -1z" />
        <path
          d="M9 76 c-3 -3 -4 -19 -1 -35 3 -21 11 -31 29 -36 14 -3 31 -1 36 4 8 8 2 11 -20 11 -28 0 -32 4 -35 31 -2 17 -6 28 -9 25z" />
        <path xmlns="http://www.w3.org/2000/svg"
          d="M220 52 c0 -29 -3 -32 -32 -32 -22 0 -29 -3 -21 -11 18 -18 60 0 66 29 3 15 1 31 -4 37 -5 5 -9 -3 -9 -23z" />
        {% elif o.type == 0 %}
        <path
          d="M120 196 c0 -43 -16 -66 -45 -66 -32 0 -56 -10 -49 -21 3 -5 19 -9 36 -9 21 0 29 -4 25 -14 -3 -8 1 -13 11 -12 10 1 19 -10 23 -29 5 -21 7 -24 9 -10 1 11 3 25 5 30 1 6 3 14 3 19 1 5 9 3 17 -4 13 -11 14 -10 9 4 -5 13 0 16 24 16 17 0 33 4 36 9 7 10 -17 21 -46 21 -15 0 -18 5 -14 16 5 13 4 14 -7 6 -18 -16 -28 -4 -21 23 3 13 1 26 -5 29 -6 4 -11 0 -11 -8z" />
        {% elif o.type == 1 %}
        <path
          d="M119 215 c-1 -5 -3 -20 -4 -32 -4 -39 -14 -53 -39 -53 -33 0 -57 -10 -50 -21 3 -5 21 -9 39 -9 38 0 55 -20 55 -66 0 -36 9 -26 12 12 2 40 7 47 24 33 12 -10 13 -9 8 4 -4 12 2 16 28 19 39 4 44 22 8 26 -59 6 -71 12 -65 31 3 10 1 29 -4 42 -5 13 -11 20 -12 14z" />
        {% elif o.type == 2 %}
        <path
          d="M129 186 c-12 -50 -22 -57 -41 -26 -7 11 -17 20 -22 20 -5 0 -1 -10 10 -21 l19 -22 -45 6 c-43 6 -38 0 15 -18 20 -7 20 -7 0 -16 -16 -7 -13 -8 11 -5 l31 5 -8 -46 c-12 -61 -3 -68 12 -9 11 46 25 58 35 32 3 -8 13 -17 22 -21 13 -5 12 -1 -4 16 l-19 22 45 -6 c43 -6 38 0 -15 18 -20 7 -20 7 0 16 16 7 13 8 -11 5 l-31 -5 8 46 c12 61 3 68 -12 9z" />
        {% elif o.type == 3 %}
        <path
          d="M167 180 c-31 -27 -36 -28 -40 -13 -4 17 -5 17 -6 1 -1 -24 -14 -23 -36 2 -10 11 -21 18 -23 15 -3 -3 5 -16 18 -30 22 -23 22 -25 4 -25 -15 0 -16 -2 -5 -9 11 -7 8 -17 -17 -47 -43 -52 -40 -62 8 -24 34 27 40 29 41 13 0 -15 2 -14 9 5 11 26 13 27 48 5 27 -17 27 -17 11 2 -22 26 -19 53 10 93 31 44 21 50 -22 12z" />
        {% elif o.type == 4 %}
        <path
          d="M97 168 l6 -48 -39 -1 c-27 -1 -32 -3 -15 -6 l25 -5 -25 -19 -24 -19 28 10 c49 17 63 12 80 -27 l16 -38 -6 42 c-6 45 -10 41 62 56 13 3 10 5 -10 6 l-30 1 25 20 25 20 -43 -15 -43 -14 -19 42 -19 42 6 -47z" />
        {% endif %}
        <title>{{ o.x }}, {{ o.y }}</title>
      </g>
    {% endif %}
    </a>
    {% endwith %}
    {% endfor %}
  </svg>
</div>
<script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom-container@0.5.2"></script>
{% endblock %}